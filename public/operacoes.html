<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operações - SupportingBases</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="js/firebase-config.js" defer></script>
    <script src="js/main.js" defer></script>
</head>
<body>
    <div id="auth-loader" class="auth-loader-container"><div class="loader"></div></div>

    <div id="main-container" class="app-container" style="display: none;">
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="dashboard.html">
                    <img src="/assets/logo-symbol.svg" alt="SupportingBases Symbol">
                </a>
            </div>
            <nav class="sidebar-nav">
                <a href="dashboard.html" title="Dashboard"><img src="/assets/icon-dashboard.svg" alt="Dashboard"></a>
                <a href="operacoes.html" title="Operações" class="active"><img src="/assets/icon-transactions-white.svg" alt="Operações"></a>
                <a href="metas.html" title="Metas"><img src="/assets/icon-target.svg" alt="Metas"></a>
                <a href="profile.html" title="Meu Perfil"><img src="/assets/icon-profile.svg" alt="Meu Perfil"></a>
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn" title="Sair"><img src="/assets/icon-logout.svg" alt="Sair"></button>
            </div>
        </aside>

        <main class="main-content">
            <header class="main-header">
                <h1>Gerenciador de Operações</h1>
                <p>Adicione, edite ou remova suas transações financeiras.</p>
            </header>

            <div class="content-body">
                <div class="card">
                    <h2 id="form-title">Adicionar Nova Transação</h2>
                    <form id="entry-form" class="grid-form">
                        <input type="hidden" id="transaction-id">
                        <div class="form-group">
                            <label for="descricao">Descrição</label>
                            <input type="text" id="descricao" name="descricao" placeholder="Ex: Salário, Aluguel" required>
                        </div>
                        <div class="form-group">
                            <label for="valor">Valor (R$)</label>
                            <input type="number" id="valor" name="valor" placeholder="1500.00" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="data">Data da Transação</label>
                            <input type="date" id="data" name="data" required>
                        </div>
                        <div class="form-group">
                            <label for="tipo">Tipo</label>
                            <select id="tipo" name="tipo" required>
                                <option value="despesa">Despesa</option>
                                <option value="receita">Receita</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="categoria">Categoria</label>
                            <select id="categoria" name="categoria" required>
                                 <option value="outros">Outros</option>
                                <optgroup label="Receitas">
                                    <option value="salario">Salário</option>
                                    <option value="servicos">Serviços</option>
                                    <option value="vendas">Vendas</option>
                                </optgroup>
                                <optgroup label="Despesas">
                                    <option value="moradia">Moradia</option>
                                    <option value="transporte">Transporte</option>
                                    <option value="alimentacao">Alimentação</option>
                                    <option value="saude">Saúde</option>
                                    <option value="lazer">Lazer</option>
                                    <option value="educacao">Educação</option>
                                    <option value="investimentos">Investimentos</option>
                                    <option value="reserva">Reserva de Emergência</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <button type="submit" id="submit-btn">Adicionar Transação</button>
                            <button type="button" id="cancel-edit-btn" class="secondary-btn" style="display: none;">Cancelar Edição</button>
                        </div>
                    </form>
                </div>

                <div class="card">
                    <h2>Histórico de Transações</h2>
                    <div id="history-container">
                        <!-- Conteúdo do histórico será carregado dinamicamente -->
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
